{% extends "home/home.html" %}

{% block content %}
<form class="form" action="/login" method="post">
    <span class="title">{% block title %}Log in{% endblock %}</span>
    {% if error %}
    <span class="error"><strong>Error: </strong>{{error}}</span>
    {% endif %}

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    <span class="flash">{{message}}</span>
    {% endfor %}
    {% endif %}
    {% endwith %}

    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ request.form.email }}" autofocus required />
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" value="{{ request.form.password }}" required />
    </div>

    <button type="submit">Log in</button>

    <span>No account? <a href="/signup">Sign up</a></span>
</form>
{% endblock %}